<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .fwidth {
            max-width: 200px;
        }
        p>button {
            position: absolute;
            right: 0;
            width: 100px;
            }
    </style>
</head>
<body>
<div >
    <p>Strength: <span class="copy1" id="result1"></span>
    <button class="button" onclick="RNG1(); this.onclick=null;">Reroll</button></p>

    <p>Dexterity: <span class="copy2" id="result2"></span>
    <button class="button" onclick="RNG2(); this.onclick=null;">Reroll</button></p>
    
    <p>Constitution: <span class="copy3" id="result3"></span>
    <button class="button" onclick="RNG3(); this.onclick=null;">Reroll</button></p>
    
    <p>Intelligence: <span class="copy4" id="result4"></span>
    <button class="button" onclick="RNG4(); this.onclick=null;">Reroll</button></p>
    
    <p>Wisdom: <span class="copy5" id="result5"></span>
    <button class="button" onclick="RNG5(); this.onclick=null;">Reroll</button></p>
    
    <p>Charisma: <span class="copy6" id="result6"></span>
    <button class="button" onclick="RNG6(); this.onclick=null;">Reroll</button></p>
    
    <button class="button" onclick="RNG(); this.onclick=null;">Roll All</button>
    <button class="button" onclick="RNG(); this.onclick=null;">Re-Roll All</button>
    <button class="button" onclick="Copy()">Copy</button>
    
    <form>
    <input type="text"  id="inputtitle" placeholder="Name"/><br />
    <input type="text" name="content" required id="str"><br />
    <input type="text" name="content" required id="dex"><br />
    <input type="text" name="content" required id="con"><br />
    <input type="text" name="content" required id="int"><br />
    <input type="text" name="content" required id="wis"><br />
    <input type="text" name="content" required id="cha"><br />

    <button id="databtn">Click to Add</button>    

    </form>           
    <form>
        <div id="msg">
            <pre></pre>
        </div>
    </form>

    
    <!-- Copy & Submit Function End -->
</div>

<script>
//RNG Start
    function RNG() {
        var min = 4; var max = 20;
        var result1 = Math.floor(Math.random() * (max - min + 1)) + min;
        var result2 = Math.floor(Math.random() * (max - min + 1)) + min;
        var result3 = Math.floor(Math.random() * (max - min + 1)) + min;
        var result4 = Math.floor(Math.random() * (max - min + 1)) + min;
        var result5 = Math.floor(Math.random() * (max - min + 1)) + min;
        var result6 = Math.floor(Math.random() * (max - min + 1)) + min;

        document.getElementById('result1').innerHTML = result1;
        document.getElementById('result2').innerHTML = result2;
        document.getElementById('result3').innerHTML = result3;
        document.getElementById('result4').innerHTML = result4;
        document.getElementById('result5').innerHTML = result5;
        document.getElementById('result6').innerHTML = result6;
    }
    function RNG1() {
        var min = 4; var max = 20;
        var result1 = Math.floor(Math.random() * (max - min + 1)) + min;
        document.getElementById('result1').innerHTML = result1;
    }
    function RNG2() {
        var min = 4; var max = 20;
        var result2 = Math.floor(Math.random() * (max - min + 1)) + min;
        document.getElementById('result2').innerHTML = result2;
    }
    function RNG3() {
        var min = 4; var max = 20;
        var result3 = Math.floor(Math.random() * (max - min + 1)) + min;
        document.getElementById('result3').innerHTML = result3;
    }
    function RNG4() {
        var min = 4; var max = 20;
        var result4 = Math.floor(Math.random() * (max - min + 1)) + min;
        document.getElementById('result4').innerHTML = result4;
    }
    function RNG5() {
        var min = 4; var max = 20;
        var result5 = Math.floor(Math.random() * (max - min + 1)) + min;
        document.getElementById('result5').innerHTML = result5;
    }
    function RNG6() {
        var min = 4; var max = 20;
        var result6 = Math.floor(Math.random() * (max - min + 1)) + min;
        document.getElementById('result6').innerHTML = result6;
    }
//RNG End

//Copy End
    function Copy() {
        var nodes = document.querySelectorAll('.copy1');
        var last = nodes[nodes.length- 1];
        document.querySelector('#str').value =last.innerHTML;

        var nodes = document.querySelectorAll('.copy2');
        var last = nodes[nodes.length- 1];
        document.querySelector('#dex').value =last.innerHTML;

        var nodes = document.querySelectorAll('.copy3');
        var last = nodes[nodes.length- 1];
        document.querySelector('#con').value =last.innerHTML;

        var nodes = document.querySelectorAll('.copy4');
        var last = nodes[nodes.length- 1];
        document.querySelector('#int').value =last.innerHTML;

        var nodes = document.querySelectorAll('.copy5');
        var last = nodes[nodes.length- 1];
        document.querySelector('#wis').value =last.innerHTML;

        var nodes = document.querySelectorAll('.copy6');
        var last = nodes[nodes.length- 1];
        document.querySelector('#cha').value =last.innerHTML;
    }
//Copy End    

//Database Start
    let mylist = [];

    const addList = (ev)=>{
        ev.preventDefault();  //to stop the form submitting
        let list = {
            id: Math.floor(Math.random() * (1000)),
            title: document.getElementById('inputtitle').value,
            str: document.getElementById('str').value,
            dex: document.getElementById('dex').value,
            con: document.getElementById('con').value,
            int: document.getElementById('int').value,
            wis: document.getElementById('wis').value,
            cha: document.getElementById('cha').value,
        }
        mylist.push(list);
        document.forms[0].reset(); // to clear the form for the next entries
        //document.querySelector('form').reset();

        //for display purposes only
        console.warn('added' , {mylist} );
        let pre = document.querySelector('#msg pre');
        pre.textContent = '\n' + JSON.stringify(mylist, '\t', 2);

        //saving to localStorage
        localStorage.setItem('List', JSON.stringify(mylist) );
    }
    document.addEventListener('DOMContentLoaded', ()=>{
        document.getElementById('databtn').addEventListener('click', addList);
    });


</script>
    
</body>
</html>


